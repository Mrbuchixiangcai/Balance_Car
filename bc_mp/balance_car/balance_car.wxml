<!--balance_car.wxml-->

<view class="page">
	<view class="connect_info">
		<view>
			<text>R-Plan Car BLE：{{ble_connect_state}}</text>
			<button class="bc_bt" size="mini" style="width:22vw; font-size: 4vw" bindtap="openBluetoothAdapter">断开连接</button>
		</view>
	</view>

	<scroll-view class="bc_ble_list" scroll-y scroll-with-animation>
		<view wx:for="{{devices}}" wx:key="index"
			data-device-id="{{item.deviceId}}"
			data-name="{{item.name || item.localName}}"
			bindtap="bindcreateBLEConnection" 
			class="device_item"
			hover-class="device_item_hover">
			<view style="font-size: 16px; color: #333;">{{item.name}}</view>
			<view style="font-size: 10px">信号强度: {{item.RSSI}}dBm ({{utils.max(0, item.RSSI + 100)}}%)</view>
			<view style="font-size: 10px">UUID: {{item.deviceId}}</view>
			<view style="font-size: 10px">Service数量: {{utils.len(item.advertisServiceUUIDs)}}</view>
		</view>
	</scroll-view>

	<veiw class="bc_ble_func">
		<view class="log_info">
			<view>
				<text>Log:</text>
				<button class="bc_bt" size="mini" style="width:22vw; font-size: 4vw" bindtap="openBluetoothAdapter">清空信息</button>
			</view>
			<scroll-view class="log_list" scroll-y scroll-with-animation>
				<text style="font-size: 10px">{{log_list}}</text>
			</scroll-view>
		</view>

		<view class="bc_set_param">
			<picker-view indicator-style="height: 30px;" style="width: 100%; height: 60px;" value="{{value}}" bindchange="bc_param_change">
				<picker-view-column>
					<view wx:for="{{bc_param}}" wx:key="{{bc_param}}" style="line-height: 30px text-align: center;">{{item}}</view>
					<view wx:for="{{years}}" wx:key="{{years}}" style="line-height: 50px; text-align: center;">{{item}}年</view>
				</picker-view-column>
			</picker-view>
		</view>

		<view class="weui-cells__group weui-cells__group_form">
			<view class="weui-cells weui-cells_form">
				<view class="weui-cell weui-cell_active weui-cell_vcode">
					<view class="weui-cell__hd"><label class="weui-label">平衡-P</label></view>
					<view class="weui-cell__bd">
						<input class="weui-input" type="text" placeholder="数值" placeholder-class="weui-input__placeholder" value="{{bc_parm1_value}}"/>
					</view>
					<view class="weui-cell__ft">
						<a class="weui-btn weui-btn_default weui-vcode-btn" style="width:22vw; font-size: 4vw">发送</a>
					</view>
				</view>
				<view class="weui-cell weui-cell_active weui-cell_vcode">
					<view class="weui-cell__hd"><label class="weui-label">平衡-I</label></view>
					<view class="weui-cell__bd">
						<input class="weui-input" type="text" placeholder="数值" placeholder-class="weui-input__placeholder" value="{{bc_parm1_value}}"/>
					</view>
					<view class="weui-cell__ft">
						<a class="weui-btn weui-btn_default weui-vcode-btn" style="width:22vw; font-size: 4vw">发送</a>
					</view>
				</view>
				<view class="weui-cell weui-cell_active weui-cell_vcode">
					<view class="weui-cell__hd"><label class="weui-label">平衡-D</label></view>
					<view class="weui-cell__bd">
						<input class="weui-input" type="text" placeholder="数值" placeholder-class="weui-input__placeholder" value="{{bc_parm1_value}}"/>
					</view>
					<view class="weui-cell__ft">
						<a class="weui-btn weui-btn_default weui-vcode-btn" style="width:22vw; font-size: 4vw">发送</a>
					</view>
				</view>
			</view>
		</view>

		<view class="bc_dir_ctl">
			<view class="button-sp-area">
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/left_up.png"></image>
				</a>
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/up.png"></image>
				</a>
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/right_up.png"></image>
				</a>
			</view>
			<view class="button-sp-area">
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/left.png"></image>
				</a>
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/centre.png"></image>
				</a>
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/right.png"></image>
				</a>
			</view>
			<view class="button-sp-area">
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/left_down.png"></image>
				</a>
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/down.png"></image>
				</a>
				<a class="weui-btn weui-btn_mini weui-btn_default">
					<image class="weui-btn_cell__icon" src="../image/right_down.png"></image>
				</a>
			</view>
		</view>
	</veiw>

</view>
